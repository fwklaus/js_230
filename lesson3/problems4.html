<!DOCTYPE html>
<html lang="en">
<head>
  <title>your page title goes here</title>
  <meta charset="utf-8" />
</head>
<body>
  <h1>Another Example</h1>
<script>
  /*
  document.addEventListener('DOMContentLoaded', event => {
    let request = new XMLHttpRequest();
    request.open('POST', 'https://ls-230-web-store-demo.herokuapp.com/v1/products');
    request.setRequestHeader('Content-Type', 'application/json; charset=utf-8');
    request.setRequestHeader('Authorization', 'token AUTH_TOKEN');

    let data = { name: 'Forrest', sku: 'fwk247', price: 4 };
    data = JSON.stringify(data);
    
    request.addEventListener('load', _event => {
        console.log(request.status);
    });

    request.addEventListener('error', event => {
      console.log('The web store is down');
    });

    request.send(data);
});
*/


function createProduct(productData) {
  let json = JSON.stringify(productData);
  let request = new XMLHttpRequest();

  request.open('POST', 'https://ls-230-web-store-demo.herokuapp.com/v1/products');
  request.setRequestHeader('Content-Type', 'application/json; charset=utf-8');
  request.setRequestHeader('Authorization', 'token AUTH_TOKEN');

  request.addEventListener('load', () => {
    console.log(`This product was added: ${request.responseText}`);
  });

  request.addEventListener('error', event => {
    console.log('The web store is down');
  });
  
  request.send(json);
}

createProduct({
  name: 'HB pencil',
  sku: 'hbp100',
  price: 50,
});


</script>
</body>
</html>