<!DOCTYPE html>
<html lang="en">
<head>
  <title>Photo Gallery</title>
  <meta charset="utf-8" />
  <link href="photo_gallery.css" rel="stylesheet">
  <script src="../javascripts/jquery.js"></script>
</head>
<body>
  <main>
    <h1>My Photo Gallery</h1>
    <figure id="display">
      <img src="https://tse4.mm.bing.net/th?id=OIP.PuGYG3g7h9BM8P8FqobpeQHaE8&pid=Api" alt="Crestone">
    </figure>
    <p class="caption">Crestone</p>

    <div class="thumbnails">
      <figure class="active"><img src="https://tse4.mm.bing.net/th?id=OIP.PuGYG3g7h9BM8P8FqobpeQHaE8&pid=Api" alt="Crestone"></figure>
      <figure class=""><img src="https://tse1.mm.bing.net/th?id=OIP.ms4PzhI_yw38-7QCOeXgNwHaEo&pid=Api" alt="San Luis"></figure>
      <figure class=""><img src="https://tse3.mm.bing.net/th?id=OIP.J4HeoJCwJ21e8AZQqITrAQHaE8&pid=Api" alt="Sand Dunes"></figure>
      <figure class=""><img src="https://tse4.mm.bing.net/th?id=OIP.B39DLGkJn0sIxRLaORCxRwHaEK&pid=Api" alt="San Luis Sunset"></figure>
    </div>
  </main>

  <script>  
    $(function() {
      let thumbs = $('div.thumbnails figure');
      let activeThumb = $('figure.active');
      let caption = $('p.caption');
      
      function toggleActive(thumbnail) {
        let figure = thumbnail.parentNode;
        figure.classList.add('active');
        activeThumb.removeClass('active');
        activeThumb = $('figure.active');
      }

      function toggleMainImage(thumbnail) {
        let newCaption = thumbnail.alt;
        let imageContainer = $('#display');
        let thumbCopy = thumbnail.cloneNode();

        imageContainer.fadeOut(400, function() {
          imageContainer.empty();
          imageContainer.css('border', 'none');
        });

        imageContainer.fadeIn("slow", function() {
          imageContainer.html(thumbCopy);
          imageContainer.css('border', 'solid white 10px')
          caption.text(newCaption);
        });

      }
      
      thumbs.click(function(event) {
        let thumbnail = event.target;

        toggleActive(thumbnail);
        toggleMainImage(thumbnail);
      });
    });
  </script>
</body>
</html>

